"use strict";(self.webpackChunksonnet_docs=self.webpackChunksonnet_docs||[]).push([[5054],{7942:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var n=r(4848),o=r(8453);const a={slug:"proxy-in-js",title:"Proxy in JS",authors:{name:"Talha Mujahid",title:"Software Engineer",url:"https://github.com/htmujahid",image_url:"https://avatars.githubusercontent.com/u/58030954?v=4"},tags:["javascript"]},s="Proxy in JS",i={permalink:"/blog/proxy-in-js",editUrl:"https://github.com/sonnetjs/sonnetjs.github.io/tree/main/blog/javascript/21-proxy-in-js.md",source:"@site/blog/javascript/21-proxy-in-js.md",title:"Proxy in JS",description:"JavaScript Proxy is a powerful feature that was introduced in ECMAScript 6 (ES6) that allows us to intercept and customize operations performed on objects. It allows us to define custom behavior for fundamental operations like object property access, assignment, and deletion. In this blog post, we\u2019ll dive deeper into the concept of proxies in JavaScript.",date:"2024-05-15T13:15:30.822Z",tags:[{label:"javascript",permalink:"/blog/tags/javascript"}],readingTime:4.1,hasTruncateMarker:!0,authors:[{name:"Talha Mujahid",title:"Software Engineer",url:"https://github.com/htmujahid",image_url:"https://avatars.githubusercontent.com/u/58030954?v=4",imageURL:"https://avatars.githubusercontent.com/u/58030954?v=4"}],frontMatter:{slug:"proxy-in-js",title:"Proxy in JS",authors:{name:"Talha Mujahid",title:"Software Engineer",url:"https://github.com/htmujahid",image_url:"https://avatars.githubusercontent.com/u/58030954?v=4",imageURL:"https://avatars.githubusercontent.com/u/58030954?v=4"},tags:["javascript"]},unlisted:!1,prevItem:{title:"Module in JS: Import, Export",permalink:"/blog/module-in-js-import-export"},nextItem:{title:"Iterator, Generator and Closure in JS",permalink:"/blog/iterator-generator-and-closure-in-js"}},c={authorsImageUrls:[void 0]},l=[];function h(e){const t={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"JavaScript Proxy is a powerful feature that was introduced in ECMAScript 6 (ES6) that allows us to intercept and customize operations performed on objects. It allows us to define custom behavior for fundamental operations like object property access, assignment, and deletion. In this blog post, we\u2019ll dive deeper into the concept of proxies in JavaScript."}),"\n",(0,n.jsx)(t.h1,{id:"what-is-a-proxy",children:"What is a Proxy?"}),"\n",(0,n.jsx)(t.p,{children:"A proxy is an object that wraps an existing object and intercepts operations performed on the wrapped object. It acts as a middleman between the code and the original object, allowing us to modify its behavior without modifying the object itself."}),"\n",(0,n.jsx)(t.h1,{id:"creating-a-proxy",children:"Creating a Proxy"}),"\n",(0,n.jsxs)(t.p,{children:["To create a Proxy, you need to use the ",(0,n.jsx)(t.code,{children:"Proxy"})," constructor. The ",(0,n.jsx)(t.code,{children:"Proxy"})," constructor takes two arguments: the target object and a handler object. The target object is the object that you want to wrap with the Proxy, and the handler object is an object that defines the behavior of the Proxy."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"let target = {};  \nlet handler = {};  \nlet proxy = new Proxy(target, handler);\n"})}),"\n",(0,n.jsx)(t.h1,{id:"handler-object",children:"Handler object"}),"\n",(0,n.jsx)(t.p,{children:"The handler object is used to define the behavior of the Proxy. It is an object that contains one or more methods called traps. The traps are called when certain operations are performed on the Proxy."}),"\n",(0,n.jsx)(t.h1,{id:"trap-methods",children:"Trap methods"}),"\n",(0,n.jsx)(t.p,{children:"The following are the available trap methods:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"get(target, property, receiver)"}),": This trap is called when a property of the Proxy is accessed."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"set(target, property, value, receiver)"}),": This trap is called when a property of the Proxy is set."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"apply(target, thisArg, argumentsList)"}),": This trap is called when the Proxy is called as a function."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"construct(target, argumentsList, newTarget)"}),": This trap is called when the Proxy is used with the ",(0,n.jsx)(t.code,{children:"new"})," keyword."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"has(target, property)"}),": This trap is called when the ",(0,n.jsx)(t.code,{children:"in"})," operator is used on the Proxy."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"deleteProperty(target, property)"}),": This trap is called when a property of the Proxy is deleted."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"getOwnPropertyDescriptor(target, property)"}),": This trap is called when the ",(0,n.jsx)(t.code,{children:"Object.getOwnPropertyDescriptor()"})," method is called on the Proxy."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"defineProperty(target, property, descriptor)"}),": This trap is called when the ",(0,n.jsx)(t.code,{children:"Object.defineProperty()"})," method is called on the Proxy."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"getPrototypeOf(target)"}),": This trap is called when the ",(0,n.jsx)(t.code,{children:"Object.getPrototypeOf()"})," method is called on the Proxy."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"setPrototypeOf(target, prototype)"}),": This trap is called when the ",(0,n.jsx)(t.code,{children:"Object.setPrototypeOf()"})," method is called on the Proxy."]}),"\n"]}),"\n",(0,n.jsx)(t.h1,{id:"examples",children:"Examples"}),"\n",(0,n.jsx)(t.p,{children:"Let\u2019s take an example to understand how to create a proxy:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'let target = {  \n    name: "John",  \n    age: 30  \n};  \nlet handler = {  \n    get: function(target, prop, receiver) {  \n        console.log(`Getting ${prop}`);  \n        return target[prop];  \n    },  \n    set: function(target, prop, value) {  \n        console.log(`Setting ${prop} to ${value}`);  \n        target[prop] = value;  \n    }  \n};  \nlet proxy = new Proxy(target, handler);  \nconsole.log(proxy.name); // Getting name, John  \nproxy.age = 40; // Setting age to 40  \nconsole.log(proxy.age); // Getting age, 40\n'})}),"\n",(0,n.jsx)(t.p,{children:"Another example where the Proxy is used for validation:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:'let user = {  \n    name: "",  \n    age: 0  \n};  \nlet handler = {  \n    set: function(target, prop, value) {  \n        if (prop === "age" && (!Number.isInteger(value) || value < 0)) {  \n            throw new TypeError("Age must be a positive integer");  \n        }  \n        target[prop] = value;  \n    }  \n};  \nlet proxy = new Proxy(user, handler);  \nproxy.name = "John";  \nproxy.age = 30;  \nconsole.log(proxy); // {name: "John", age: 30}  \nproxy.age = -1; // Throws TypeError: Age must be a positive integer\n'})}),"\n",(0,n.jsx)(t.h1,{id:"common-use-cases-of-proxies",children:"Common use cases of Proxies"}),"\n",(0,n.jsx)(t.h1,{id:"validation",children:"Validation"}),"\n",(0,n.jsx)(t.p,{children:"One of the most common use cases for proxies is input validation. Proxies can be used to define rules for valid data types and formats for object properties, and any attempts to set properties that violate these rules can be blocked or thrown an error."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"let target = {};  \nlet handler = {  \n    set: function(target, property, value, receiver) {  \n        if (typeof value !== 'string') {  \n            throw new Error('Only string values are allowed');  \n        }  \n        target[property] = value;  \n        return true;  \n    }  \n};  \nlet proxy = new Proxy(target, handler);  \nproxy.name = \"John\"; // Allowed  \nproxy.age = 30; // Throws an error\n"})}),"\n",(0,n.jsx)(t.h1,{id:"performance-optimization",children:"Performance optimization"}),"\n",(0,n.jsx)(t.p,{children:"Another common use case for proxies is performance optimization. For example, suppose you have a large object that is frequently accessed, and you want to cache its properties to improve performance. You can use a proxy to intercept property access and cache the values to avoid repeated access to the object."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",children:"let target = { /* Large object */ };  \nlet cache = {};  \nlet handler = {  \n    get: function(target, property, receiver) {  \n        if (!(property in cache)) {  \n            cache[property] = target[property];  \n        }  \n        return cache[property];  \n    }  \n};  \nlet proxy = new Proxy(target, handler);  \nconsole.log(proxy.property1); // The value is cached  \nconsole.log(proxy.property2); // The value is cached\n"})}),"\n",(0,n.jsx)(t.p,{children:"Proxies are a powerful feature in JavaScript that allows you to intercept and customize certain operations that are performed on another object. They provide a way to implement custom behavior for fundamental language operations that is not possible with normal JavaScript objects. Proxies can be used for a variety of purposes such as validation, logging, and caching."})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>s,x:()=>i});var n=r(6540);const o={},a=n.createContext(o);function s(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);